<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ALPHA DRIVE ONE | Voting Deadlines</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.cdnfonts.com/css/ica-rubrik-black');
        @import url('https://fonts.cdnfonts.com/css/poppins');
        
        :root {
            --primary-gold: #e4dcb8;
            --secondary-gold: #85796e;
            --dark-bg: #0c0c0c;
            --light-text: #ffffff;
            --muted-text: #d0cee0;
            --nav-bg: rgba(0, 0, 0, 0.95);
            --card-bg: rgba(0, 0, 0, 0.8);
            --border-color: rgba(228, 220, 184, 0.3);
            --accent-gradient: linear-gradient(45deg, #e4dcb8, #9e9c3c);
        }
        
        * { 
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: "Poppins", sans-serif;
            background: linear-gradient(135deg, var(--dark-bg) 0%, var(--primary-gold) 50%, var(--secondary-gold) 100%);
            color: var(--light-text);
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.15;
            background: 
                radial-gradient(circle at 20% 30%, rgba(228, 220, 184, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(133, 121, 110, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 40% 80%, rgba(158, 156, 60, 0.1) 0%, transparent 40%);
            animation: float 20s infinite ease-in-out alternate;
        }

        @keyframes float {
            0% { transform: scale(1) rotate(0deg); }
            100% { transform: scale(1.1) rotate(180deg); }
        }

        /* Navigation */
        nav {
            width: 100%;
            min-height: 60px;
            background: var(--nav-bg);
            backdrop-filter: blur(10px);
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            font-family: 'ICA Rubrik';
            border-bottom: 1px solid var(--border-color);
            padding: 0 5%;
            transition: all 0.3s ease;
        }

        .nav-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1rem;
            color: white;
            font-weight: 500;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 60%;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo i {
            font-size: 1.2rem;
        }

        .nav-toggle {
            background: none;
            border: none;
            color: var(--primary-gold);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 10px;
            z-index: 1001;
            transition: transform 0.3s ease;
        }

        .nav-toggle:hover {
            transform: rotate(90deg);
        }

        .nav-links {
            position: fixed;
            top: 60px;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.98);
            backdrop-filter: blur(20px);
            display: none;
            flex-direction: column;
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            z-index: 999;
            transform: translateY(-10px);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-links.active {
            display: flex;
            transform: translateY(0);
            opacity: 1;
        }

        .nav-link {
            color: var(--muted-text);
            text-decoration: none;
            padding: 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 1rem;
            border-left: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--light-text);
            background: rgba(228, 220, 184, 0.1);
            border-left: 3px solid var(--primary-gold);
            padding-left: 20px;
        }

        .nav-link i {
            width: 20px;
            text-align: center;
        }

        /* Main Content */
        .main-content {
            margin-top: 60px;
            padding: 20px 5%;
            width: 100%;
            min-height: calc(100vh - 60px);
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Page Header */
        .page-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px 20px;
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.8s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .page-header h2 {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            background: linear-gradient(45deg, var(--primary-gold), var(--secondary-gold), var(--light-text));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 700;
        }

        .page-header p {
            color: var(--muted-text);
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Calendar Section */
        .calendar-section {
            background: var(--card-bg);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.8s ease 0.2s both;
        }

        .calendar-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            text-align: center;
        }

        .calendar-header h3 {
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        /* Calendar Container */
        .calendar-container {
            width: 100%;
            height: 600px;
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid var(--border-color);
            background: rgba(255, 255, 255, 0.05);
            position: relative;
        }

        .calendar-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: transparent;
        }

        .calendar-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--primary-gold);
            font-size: 1.2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border-color);
            border-top-color: var(--primary-gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Calendar Links */
        .calendar-links {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-top: 30px;
        }

        @media (min-width: 768px) {
            .calendar-links {
                grid-template-columns: 1fr 1fr;
            }
        }

        .calendar-link {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 18px;
            border-radius: 12px;
            background: rgba(228, 220, 184, 0.1);
            border: 1px solid var(--border-color);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            color: var(--primary-gold);
            font-size: 1rem;
            font-weight: 500;
            text-align: center;
        }

        .calendar-link:hover {
            background: rgba(228, 220, 184, 0.2);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(228, 220, 184, 0.2);
        }

        .calendar-link i {
            font-size: 1.3rem;
        }

        /* Instructions & Setup Guide */
        .instructions, .setup-guide {
            margin-top: 30px;
            padding: 25px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            border: 1px solid var(--border-color);
            animation: slideUp 0.8s ease 0.4s both;
        }

        .setup-guide {
            border: 2px dashed var(--border-color);
            animation: slideUp 0.8s ease 0.6s both;
        }

        .section-title {
            color: var(--primary-gold);
            margin-bottom: 20px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .instructions-content {
            color: var(--muted-text);
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .instructions-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        @media (min-width: 768px) {
            .instructions-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .instruction-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .instruction-number {
            flex-shrink: 0;
            width: 28px;
            height: 28px;
            background: var(--primary-gold);
            color: var(--dark-bg);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* Steps */
        .step {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border-left: 4px solid var(--primary-gold);
            transition: transform 0.3s ease;
        }

        .step:hover {
            transform: translateX(5px);
        }

        .step-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .step-number {
            width: 30px;
            height: 30px;
            background: var(--primary-gold);
            color: var(--dark-bg);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .step h5 {
            color: var(--primary-gold);
            font-size: 1rem;
            margin: 0;
        }

        .step p {
            color: var(--muted-text);
            font-size: 0.9rem;
            line-height: 1.6;
            margin-left: 42px;
        }

        /* Footer */
        .footer {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            padding: 40px 5%;
            text-align: center;
            border-top: 1px solid var(--border-color);
            margin-top: 50px;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .footer.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
        }

        .footer-text {
            color: var(--muted-text);
            font-size: 1rem;
            margin-bottom: 20px;
            font-weight: 300;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
        }

        .social-icon {
            color: var(--muted-text);
            font-size: 1.3rem;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        .social-icon:hover {
            color: var(--light-text);
            background: var(--accent-gradient);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(228, 220, 184, 0.4);
        }

        /* Loading Bar */
        .loading-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, #edee9d, #e7d6a7, #cfc38a);
            z-index: 10000;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(109, 93, 252, 0.5);
        }

        /* Responsive Design */
        @media (min-width: 768px) {
            .logo {
                font-size: 1.2rem;
                max-width: none;
            }

            .nav-links {
                position: static;
                display: flex;
                flex-direction: row;
                background: transparent;
                backdrop-filter: none;
                padding: 0;
                border-bottom: none;
                transform: none;
                opacity: 1;
                width: auto;
                gap: 5px;
            }

            .nav-toggle {
                display: none;
            }

            .nav-link {
                padding: 8px 16px;
                border-left: none;
                border-bottom: 2px solid transparent;
                font-size: 0.95rem;
            }

            .nav-link:hover,
            .nav-link.active {
                border-left: none;
                border-bottom: 2px solid var(--primary-gold);
                padding-left: 16px;
                padding-bottom: 6px;
            }

            .main-content {
                margin-top: 80px;
                padding: 30px 5%;
            }

            .calendar-container {
                height: 700px;
            }
        }

        @media (min-width: 1024px) {
            .main-content {
                padding: 40px 5%;
            }

            .calendar-container {
                height: 800px;
            }
        }

        /* Safe Area Support */
        @supports (padding: max(0px)) {
            .main-content, nav {
                padding-left: max(20px, env(safe-area-inset-left));
                padding-right: max(20px, env(safe-area-inset-right));
            }
            
            .footer {
                padding-left: max(5%, env(safe-area-inset-left));
                padding-right: max(5%, env(safe-area-inset-right));
                padding-bottom: max(40px, env(safe-area-inset-bottom));
            }
        }

        /* Touch Device Optimization */
        @media (hover: none) and (pointer: coarse) {
            .calendar-link:hover,
            .social-icon:hover,
            .step:hover {
                transform: none;
            }
            
            .calendar-link:active,
            .social-icon:active {
                transform: scale(0.98);
            }
        }

        /* Landscape Mode */
        @media (max-height: 500px) and (orientation: landscape) {
            nav {
                min-height: 50px;
            }
            
            .nav-container {
                height: 50px;
            }
            
            .nav-links {
                top: 50px;
            }
            
            .main-content {
                margin-top: 50px;
                padding-bottom: 60px;
            }
            
            .calendar-container {
                height: 350px;
            }
            
            .footer {
                padding: 25px 5%;
            }
        }

        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            :root {
                --border-color: rgba(228, 220, 184, 0.2);
            }
        }

        /* High Contrast Mode */
        @media (prefers-contrast: high) {
            :root {
                --primary-gold: #ffd700;
                --muted-text: #ffffff;
            }
        }

        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation"></div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-vote-yea"></i>
                ALPHA DRIVE ONE Voting Team
            </a>
            <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
            <div class="nav-links">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-home"></i>
                    Home
                </a>
                <a href="#" class="nav-link active">
                    <i class="fas fa-calendar-alt"></i>
                    Voting Deadlines
                </a>
                <a href="voting-links.html" class="nav-link">
                    <i class="fas fa-link"></i>
                    Voting Links
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Page Header -->
        <div class="page-header">
            <h2>Voting Deadlines Calendar</h2>
            <p>Stay on top of all voting deadlines and important dates. Subscribe to get automatic reminders and never miss a vote!</p>
        </div>

        <!-- Google Calendar Section -->
        <div class="calendar-section">
            <div class="calendar-header">
                <h3>
                    <i class="fas fa-calendar-alt"></i>
                    ALPHA DRIVE ONE Voting Calendar
                </h3>
            </div>

            <!-- Google Calendar Embed -->
            <div class="calendar-container">
                <div class="calendar-loading">
                    <div class="spinner"></div>
                    <span>Loading Calendar...</span>
                </div>
                <iframe src="" class="calendar-iframe" frameborder="0" scrolling="no" title="ALPHA DRIVE ONE Voting Calendar"></iframe>
            </div>

            <!-- Calendar Links -->
            <div class="calendar-links">
                <a href="#" target="_blank" class="calendar-link" id="google-calendar-link">
                    <i class="fab fa-google"></i>
                    <span>Add to Google Calendar</span>
                </a>
                <a href="#" target="_blank" class="calendar-link" id="ical-download-link">
                    <i class="fas fa-download"></i>
                    <span>Download iCal File</span>
                </a>
            </div>

            <!-- Instructions -->
            <div class="instructions">
                <h4 class="section-title">
                    <i class="fas fa-info-circle"></i>
                    How to Use This Calendar
                </h4>
                <div class="instructions-grid">
                    <div class="instruction-item">
                        <div class="instruction-number">1</div>
                        <span>Click "Add to Google Calendar" to subscribe to all voting deadlines automatically</span>
                    </div>
                    <div class="instruction-item">
                        <div class="instruction-number">2</div>
                        <span>You'll receive notifications before each deadline on all your devices</span>
                    </div>
                    <div class="instruction-item">
                        <div class="instruction-number">3</div>
                        <span>Click on any event in the calendar to view detailed information</span>
                    </div>
                    <div class="instruction-item">
                        <div class="instruction-number">4</div>
                        <span>The calendar syncs automatically across all your devices in real-time</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Setup Guide 
        <div class="setup-guide">
            <h4 class="section-title">
                <i class="fas fa-tools"></i>
                Setup Instructions for Calendar Admin
            </h4>
            
            <div class="step">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <h5>Create Google Calendar</h5>
                </div>
                <p>Go to Google Calendar > Click the "+" next to "Other calendars" > Create new calendar named "ALPHA DRIVE ONE Voting Deadlines"</p>
            </div>
            
            <div class="step">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <h5>Get Calendar ID</h5>
                </div>
                <p>Navigate to calendar settings > Find "Calendar ID" (format: abc123@group.calendar.google.com) â†’ Copy this ID</p>
            </div>
            
            <div class="step">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <h5>Make Calendar Public</h5>
                </div>
                <p>In sharing settings > Enable "Make available to public" > Select "See all event details" for event visibility</p>
            </div>
            
            <div class="step">
                <div class="step-header">
                    <div class="step-number">4</div>
                    <h5>Update This Page</h5>
                </div>
                <p>Contact <a href="https://x.com/wonxinau" target="_blank" style="color: var(--primary-gold); text-decoration: none;">@wonxinau on Twitter</a> to update the calendar ID in the system configuration</p>
            </div>
        </div>
        -->
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
          <p class="footer-text">Â© 2026 by wonxinau. All rights reserved. </p>
              <p class="footer-text">ALPHA DRIVE ONE Voting Team.</p>
            <div class="social-icons">
                <a href="" target="_blank" class="social-icon" aria-label="Follow on Twitter">
                    <i class="fab fa-twitter"></i>
                </a>
            </div>
        </div>
    </footer>

    <!-- Loading Bar -->
    <div class="loading-bar"></div>

    <script>
        // ===================== CONFIGURATION =====================
        const CONFIG = {
            CALENDAR_ID: 'ald1votingteam@gmail.com',
            TIMEZONE: Intl.DateTimeFormat().resolvedOptions().timeZone,
            CALENDAR_SETTINGS: {
                mode: 'MONTH',
                showTitle: 0,
                showNav: 1,
                showDate: 1,
                showPrint: 0,
                showTabs: 1,
                showCalendars: 0,
                showTz: 0,
                wkst: 1
            }
        };
        // =========================================================

        // DOM Elements
        const elements = {
            calendarIframe: document.querySelector('.calendar-iframe'),
            calendarLoading: document.querySelector('.calendar-loading'),
            googleCalendarLink: document.getElementById('google-calendar-link'),
            icalDownloadLink: document.getElementById('ical-download-link'),
            navToggle: document.querySelector('.nav-toggle'),
            navLinks: document.querySelector('.nav-links'),
            footer: document.querySelector('.footer'),
            loadingBar: document.querySelector('.loading-bar')
        };

        // Initialize application
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ðŸš€ ALPHA DRIVE ONE Voting Calendar Initializing...');
            
            initApplication();
            setupEventListeners();
            startLoadingAnimation();
            
            console.log('âœ… Application initialized successfully');
        });

        function initApplication() {
            // Update all calendar URLs
            updateCalendarUrls();
            
            // Initialize animations
            initAnimations();
            
            // Set initial navigation state
            updateNavToggleIcon();
        }

        function updateCalendarUrls() {
            if (!CONFIG.CALENDAR_ID || CONFIG.CALENDAR_ID.includes('YOUR_CALENDAR_ID')) {
                console.warn('âš ï¸ Calendar ID not configured. Using demo mode.');
                showSetupAlert();
                return;
            }

            try {
                // Build calendar URL
                const calendarUrl = new URL('https://calendar.google.com/calendar/embed');
                calendarUrl.searchParams.set('src', CONFIG.CALENDAR_ID);
                calendarUrl.searchParams.set('ctz', CONFIG.TIMEZONE);
                
                // Add settings
                Object.entries(CONFIG.CALENDAR_SETTINGS).forEach(([key, value]) => {
                    calendarUrl.searchParams.set(key, value);
                });
                
                // Update iframe
                elements.calendarIframe.src = calendarUrl.toString();
                
                // Update calendar links
                elements.googleCalendarLink.href = `https://calendar.google.com/calendar/r?cid=${CONFIG.CALENDAR_ID}`;
                elements.icalDownloadLink.href = `https://calendar.google.com/calendar/ical/${CONFIG.CALENDAR_ID}/public/basic.ics`;
                
                // Hide loading indicator when iframe loads
                elements.calendarIframe.onload = () => {
                    elements.calendarLoading.style.display = 'none';
                    console.log('ðŸ“… Calendar loaded successfully');
                };
                
                console.log('âœ… Calendar URLs updated:', calendarUrl.toString());
                
            } catch (error) {
                console.error('âŒ Error updating calendar URLs:', error);
                showError('Failed to load calendar. Please check the configuration.');
            }
        }

        function setupEventListeners() {
            // Mobile navigation toggle
            elements.navToggle.addEventListener('click', toggleMobileNav);
            elements.navToggle.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    toggleMobileNav();
                }
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!elements.navToggle.contains(e.target) && !elements.navLinks.contains(e.target)) {
                    closeMobileNav();
                }
            });

            // Close mobile menu on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeMobileNav();
                }
            });

            // Handle window resize
            window.addEventListener('resize', handleResize);
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', smoothScroll);
            });
        }

        function toggleMobileNav() {
            elements.navLinks.classList.toggle('active');
            const isExpanded = elements.navLinks.classList.contains('active');
            elements.navToggle.setAttribute('aria-expanded', isExpanded);
            updateNavToggleIcon();
            
            // Prevent body scroll when menu is open
            document.body.style.overflow = isExpanded ? 'hidden' : '';
        }

        function closeMobileNav() {
            elements.navLinks.classList.remove('active');
            elements.navToggle.setAttribute('aria-expanded', 'false');
            updateNavToggleIcon();
            document.body.style.overflow = '';
        }

        function updateNavToggleIcon() {
            const isActive = elements.navLinks.classList.contains('active');
            elements.navToggle.innerHTML = isActive ? 
                '<i class="fas fa-times"></i>' : 
                '<i class="fas fa-bars"></i>';
        }

        function handleResize() {
            // Close mobile menu on larger screens
            if (window.innerWidth >= 768) {
                closeMobileNav();
            }
        }

        function smoothScroll(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        function initAnimations() {
            // Loading bar animation
            startLoadingAnimation();
            
            // Footer fade-in on scroll
            initScrollAnimations();
            
            // Sticky navigation on scroll
            initStickyNav();
        }

        function startLoadingAnimation() {
            let width = 0;
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    elements.loadingBar.style.opacity = '0';
                    setTimeout(() => {
                        elements.loadingBar.style.display = 'none';
                    }, 500);
                } else {
                    width += 10;
                    elements.loadingBar.style.width = width + '%';
                }
            }, 30);
        }

        function initScrollAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            // Observe footer
            if (elements.footer) {
                observer.observe(elements.footer);
            }
        }

        function initStickyNav() {
            let lastScroll = 0;
            window.addEventListener('scroll', () => {
                const currentScroll = window.pageYOffset;
                const nav = document.querySelector('nav');
                
                if (currentScroll > lastScroll && currentScroll > 100) {
                    nav.style.transform = 'translateY(-100%)';
                } else {
                    nav.style.transform = 'translateY(0)';
                }
                
                lastScroll = currentScroll;
            });
        }

        function showSetupAlert() {
            const alertDiv = document.createElement('div');
            alertDiv.className = 'setup-alert';
            alertDiv.innerHTML = `
                <div style="
                    position: fixed;
                    bottom: 20px;
                    left: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, #ff6b6b, #ee5a52);
                    color: white;
                    padding: 15px;
                    border-radius: 10px;
                    z-index: 10000;
                    box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
                    animation: slideInUp 0.5s ease;
                ">
                    <h4 style="margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-exclamation-triangle"></i>
                        Setup Required
                    </h4>
                    <p style="font-size: 0.9rem; margin-bottom: 10px;">
                        Please configure your Google Calendar ID in the CONFIG object.
                    </p>
                    <button onclick="this.parentElement.remove()" 
                            style="
                                background: white;
                                color: #ff6b6b;
                                border: none;
                                padding: 8px 15px;
                                border-radius: 5px;
                                cursor: pointer;
                                font-weight: 600;
                            ">
                        Dismiss
                    </button>
                </div>
            `;
            document.body.appendChild(alertDiv);
        }

        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.innerHTML = `
                <div style="
                    position: fixed;
                    top: 80px;
                    left: 20px;
                    right: 20px;
                    background: rgba(255, 0, 0, 0.9);
                    color: white;
                    padding: 15px;
                    border-radius: 10px;
                    z-index: 10000;
                    text-align: center;
                ">
                    <i class="fas fa-exclamation-circle"></i>
                    ${message}
                </div>
            `;
            document.body.appendChild(errorDiv);
            
            setTimeout(() => {
                errorDiv.remove();
            }, 5000);
        }

        // Public API for testing
        window.ADOCalendar = {
            config: CONFIG,
            testConnection: () => {
                console.log('Testing calendar connection...');
                if (!CONFIG.CALENDAR_ID || CONFIG.CALENDAR_ID.includes('YOUR_CALENDAR_ID')) {
                    console.error('âŒ Calendar ID not configured');
                    return false;
                }
                return true;
            },
            refreshCalendar: () => {
                updateCalendarUrls();
                console.log('Calendar refreshed');
            }
        };
    </script>
</body>

</html>
